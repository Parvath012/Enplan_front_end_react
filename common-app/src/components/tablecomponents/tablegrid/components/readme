# Table Grid Components

A comprehensive suite of components for building powerful, flexible data grids with advanced features. These components are designed to work together with MUI X Data Grid to create enterprise-grade table experiences.

## Components Overview

1. Actions Column
2. Custom Checkbox
3. Custom Menu Icon
4. Custom Sort Icon
5. Grid Cell Renderer
6. Grid Column Generation
7. Custom Select
8. Bulk Edit Button & Dialog
9. Column Menu
10. Custom Sort Button
11. Custom Edit Cell
12. Sort Dialog
13. Reusable Sort Utilities
14. GridSortMenuContext

# Actions Column Component

## Overview

The Actions Column component is a dynamic, reusable solution for adding an actions menu to each row in a data grid. It provides a flexible and customizable way to implement row-level actions with an overflow menu.

## Features

- ðŸ”¹ Dynamic action item generation
- ðŸ”¹ Customizable menu items
- ðŸ”¹ Support for icons in menu items
- ðŸ”¹ Memoized component for performance
- ðŸ”¹ Flexible width configuration
- ðŸ”¹ Accessibility-friendly

## Installation

No additional installation required beyond existing project dependencies.

## Interfaces

### ActionItem
```typescript
interface ActionItem {
  label: string;     // Text displayed for the action
  action: string;    // Unique identifier for the action
  icon?: React.ReactNode;  // Optional icon for the action
}
```


# Custom Checkbox Component

## Overview

The CustomCheckbox component is a highly flexible and customizable checkbox implementation built on top of Material-UI's Checkbox. It provides enhanced styling options, size configuration, and a clean, modern design with Carbon Icons integration.

## Features

- ðŸ”¹ Fully customizable checkbox styling
- ðŸ”¹ Configurable box size
- ðŸ”¹ Custom styles for checked and unchecked states
- ðŸ”¹ Carbon Checkmark icon integration
- ðŸ”¹ Extends Material-UI Checkbox props
- ðŸ”¹ Ripple effect disabled for clean UI

## Installation

Ensure you have the following dependencies:
- `@mui/material`
- `@carbon/icons-react`

## Props Interface

```typescript
interface CustomCheckboxProps extends CheckboxProps {
    uncheckedStyle?: React.CSSProperties;     // Style for unchecked state
    checkedStyle?: React.CSSProperties;       // Style for checked state
    checkedIconStyle?: React.CSSProperties;   // Style for checkmark icon
    boxSize?: number;                         // Checkbox size (default: 14)
}
```


# Custom Menu Icon Component

## Overview

The CustomMenuIcon component is a flexible, customizable icon button component built with Material-UI and Carbon Icons. It provides a versatile solution for creating configurable menu icons with advanced styling options.

## Features

- ðŸ”¹ Highly customizable icon button
- ðŸ”¹ Support for custom icons
- ðŸ”¹ Configurable size and colors
- ðŸ”¹ Smooth transition effects
- ðŸ”¹ Disabled state handling
- ðŸ”¹ Carbon Icons integration

## Installation

Ensure you have the following dependencies:
- `@mui/material`
- `@carbon/icons-react`

## Props Interface

```typescript
interface CustomMenuIconProps {
  onClick?: (event: React.MouseEvent<HTMLButtonElement>) => void;
  className?: string;
  icon?: React.ReactNode;
  size?: number;
  activeColor?: string;     // Default: '#0051AB'
  inactiveColor?: string;   // Default: '#0051AB'
}
```

# Custom Sort Icon Component

## Overview

The CustomSortIcon component is a dynamic and flexible sorting icon implementation for data grids. It provides a visually appealing and customizable way to represent different sorting states using Carbon Icons.

## Features

- ðŸ”¹ Dynamic sorting state representation
- ðŸ”¹ Configurable icon sizes
- ðŸ”¹ Customizable colors
- ðŸ”¹ Smooth transition effects
- ðŸ”¹ Carbon Icons integration
- ðŸ”¹ Supports ascending, descending, and neutral states

## Installation

Ensure you have the following dependencies:
- `@mui/x-data-grid`
- `@carbon/icons-react`

## Props Interface

```typescript
interface CustomSortIconProps {
  direction?: GridSortDirection;  // Sort direction
  className?: string;            // Optional CSS class
  size?: number;                 // Icon size (default: 12)
  activeColor?: string;          // Active state color (default: '#1976d2')
  inactiveColor?: string;        // Inactive state color (default: '#666')
  'data-testid'?: string;        // Optional test id
}
```

# Grid Cell Renderer Component

## Overview

The GridCellRenderer is a flexible and customizable cell rendering component designed for data grids. It provides enhanced cell styling, tooltip support, and dynamic rendering capabilities.

## Features

- ðŸ”¹ Dynamic cell styling
- ðŸ”¹ Full value tooltip
- ðŸ”¹ Flexible style overrides
- ðŸ”¹ Conditional rendering support
- ðŸ”¹ Fallback styling mechanism
- ðŸ”¹ Text formatting support (bold, italic, underline, strikethrough)
- ðŸ”¹ Background and text color customization

## Installation

No additional installation required beyond existing project dependencies.

## Props Interface

```typescript
interface Props {
  params: GridRenderCellParams;  // Cell rendering parameters
  style?: React.CSSProperties;   // Optional custom styling
  className?: string;            // Optional additional CSS class names
}
```


# Grid Column Generation Utility (`generateColumns` in `gridUtils.tsx`)

## Overview

The `generateColumns` utility (exported from `gridUtils.tsx`) is a powerful, flexible function for dynamically generating column configurations for data grids. It provides extensive customization options for column rendering, styling, and behavior.

## Features

- ðŸ”¹ Dynamic column generation from schema
- ðŸ”¹ Customizable cell rendering
- ðŸ”¹ Row-specific styling
- ðŸ”¹ Conditional actions column
- ðŸ”¹ Flexible header customization
- ðŸ”¹ Sorting and menu icon support (with integration for CustomSortButton and ColumnMenu)
- ðŸ”¹ Conditional cell editability
- ðŸ”¹ Editable cells can be dropdowns if defined in the type
- ðŸ”¹ Dynamic table configuration
- ðŸ”¹ Dynamic column widths
- ðŸ”¹ Cell text wrapping support
- ðŸ”¹ Integration with Sort Context API

## Installation

No additional installation required beyond existing project dependencies.

## Interfaces

### ColumnSchema
```typescript
interface ColumnSchema {
  aliasName: string;
  // Add other potential schema properties
}
```

### ColumnConfiguration
```typescript
interface ColumnConfiguration {
  type: string;
  isEditable: boolean;
  // Add other potential schema properties
}
```

# Custom Select Component

## Overview
The CustomSelect component is a flexible and customizable select input implementation built with Material-UI. It provides enhanced styling options and seamless integration with data grids and forms.

## Features
- ðŸ”¹ Fully customizable select input
- ðŸ”¹ Configurable options
- ðŸ”¹ Compact size
- ðŸ”¹ Full-width layout
- ðŸ”¹ Minimal styling
- ðŸ”¹ Automatic focus
- ðŸ”¹ Seamless event handling

## Installation
Ensure you have the following dependencies:
- `@mui/material`
- `react`

## Props Interface
```typescript
interface CustomSelectProps {
  value: string;                 // Current selected value
  options: string[];             // Array of select options
  onChange: (                    // Change event handler
    value: string, 
    event: React.ChangeEvent<any>
  ) => void;
}
```

# Bulk Edit Components

## BulkEditButton
A button component for triggering bulk edit actions in the data grid. Typically used to open the bulk edit dialog for selected rows.

### Props Interface
```typescript
interface BulkEditButtonProps {
  columnField?: string; // Optional prop to specify which column this button is for
}
```

## BulkEditDialog
A modal dialog component for performing bulk edits on multiple rows. Provides a user-friendly interface for editing fields in bulk.

### Props Interface
```typescript
interface BulkEditDialogProps {
  open: boolean;
  onClose: () => void;
}
```

### Features
- ðŸ”¹ Data type detection
- ðŸ”¹ Support for text, select, number, currency, and date inputs
- ðŸ”¹ Input validation
- ðŸ”¹ Bulk application to multiple cells
- ðŸ”¹ Keyboard navigation and shortcuts

# Column Menu

## Overview

The `ColumnMenu` component provides a contextual menu for column-specific actions in a data grid. It enables users to interact with individual columns, offering features such as sorting, filtering, hiding, and customizing columns. The menu is typically accessed via an icon button in the column header.

## Features

- ðŸ”¹ Column-specific sorting (ascending/descending)
- ðŸ”¹ Multiple sort types (alphanumeric, numeric, date)
- ðŸ”¹ Font and fill color sorting
- ðŸ”¹ Customizable menu items and actions
- ðŸ”¹ Integration with Material-UI and Carbon Icons
- ðŸ”¹ Responsive and accessible design
- ðŸ”¹ Context-based integration with GridSortMenuContext

## Props Interface

```typescript
export interface ColumnMenuProps {
  field: string;              // The field/column name
  menuIcon?: React.ReactNode; // Optional custom menu icon
}
```

## Context Integration

The ColumnMenu component uses the `GridSortMenuContext` to access shared sorting functionality:

```typescript
export interface GridSortMenuContextType {
  onSortAsc?: (field: string, type?: string | null) => void;
  onSortDesc?: (field: string, type?: string | null) => void;
  anchorEl?: HTMLElement | null;
  menuField?: string | null;
  handleMenuOpen?: (event: React.MouseEvent<HTMLButtonElement>, field: string) => void;
  handleMenuClose?: () => void;
  onClearSort?: (field: string) => void;
}
```

## Accessibility

- Keyboard navigable
- ARIA attributes for menu and menu items

## Dependencies

- `@mui/material`
- `@carbon/icons-react`
- `@mui/x-data-grid`

# Custom Sort Button Component

## Overview

The CustomSortButton component is a specialized button for triggering sort actions in a data grid. It provides a comprehensive sorting solution with support for sort direction cycling, sort priority indication, and different sort types.

## Features

- ðŸ”¹ Cyclical sort direction handling (none â†’ descending â†’ ascending â†’ none)
- ðŸ”¹ Visual sort priority indicators with multi-column sort support
- ðŸ”¹ Support for different sort types (alphanumeric, numeric, date, etc.)
- ðŸ”¹ Keyboard accessibility (Enter/Space to trigger sort)
- ðŸ”¹ Integration with CustomSortIcon component
- ðŸ”¹ Clean, minimal design with no default styling
- ðŸ”¹ Full ARIA support for accessibility
- ðŸ”¹ Sort priority badge with tooltips

## Installation

Ensure you have the following dependencies:
- `@mui/x-data-grid`
- `@carbon/icons-react` (used by the CustomSortIcon)

## Props Interface

```typescript
interface CustomSortButtonProps {
  field: string;                                // Field/column identifier to sort
  sortDirection: string | null;                 // Current sort direction
  sortPriority: number | null;                  // Sort priority (for multi-column sorting)
  sortType: string | null;                      // Type of sort (e.g., "alphanumeric")
  onSortAsc?: (field: string, type?: string | null) => void;   // Ascending sort handler
  onSortDesc?: (field: string, type?: string | null) => void;  // Descending sort handler
  onClearSort?: (field: string) => void;        // Clear sort handler
}
```

# Custom Edit Cell Component

## Overview
The CustomEditCell component is a flexible editing solution for data grids, supporting both text and select input types with advanced styling and seamless integration with MUI DataGrid.

## Features
- ðŸ”¹ Supports text and select input types
- ðŸ”¹ Seamless DataGrid integration
- ðŸ”¹ Advanced styling options
- ðŸ”¹ Automatic focus
- ðŸ”¹ Flexible value handling
- ðŸ”¹ Text wrapping support
- ðŸ”¹ Text formatting (bold, italic, underline, strikethrough)
- ðŸ”¹ Custom colors for text and background

## Installation
Ensure you have the following dependencies:
- `@mui/x-data-grid`
- `@mui/material`

## Props Interface
```typescript
interface CustomEditCellProps extends GridRenderEditCellParams {
    type?: CustomEditCellFields.TypeText | CustomEditCellFields.TypeSelect;
    options?: string[];
    isWrapped?: boolean;
    formatting?: {
      bold?: boolean;
      italic?: boolean;
      underline?: boolean;
      strikethrough?: boolean;
      textColor?: string;
      fillColor?: string;
    };
    textColor?: string;
    fillColor?: string;
}
```

# Sort Dialog

## Overview
The SortDialog component provides a comprehensive interface for configuring multi-level, multi-type sorting in data grids. It enables users to create complex sort configurations with different sort types and orders.

## Features
- ðŸ”¹ Multi-level sorting
- ðŸ”¹ Various sort types (alphanumeric, numeric, date, color)
- ðŸ”¹ Customizable sort order per level
- ðŸ”¹ Add, delete, and copy sort levels
- ðŸ”¹ Intuitive user interface with Material-UI components
- ðŸ”¹ Dynamic column selection
- ðŸ”¹ Context-aware order labels (e.g., "A to Z" for alphanumeric, "Smallest to Largest" for numeric)
- ðŸ”¹ Integration with Redux store (optional)

## Sort Types
- Alphanumeric (A-Z, Z-A)
- Numeric (Smallest-to-Largest, Largest-to-Smallest)
- Date (Earliest-to-Latest, Latest-to-Earliest)
- Font Color (Ascending, Descending)
- Fill Color (Ascending, Descending)

## Props Interface
```typescript
interface SortDialogProps {
  open: boolean;
  onClose: () => void;
  sortLevels?: Array<{ sortBy: string; sortOn: string; order: "asc" | "desc" }>;
  onApplySort: (levels: Array<{ sortBy: string; sortOn: string; order: "asc" | "desc" }>) => void;
  columns?: Array<{ field: string; headerName: string; hide?: boolean }>;
}
```

# GridSortMenuContext

## Overview
The `GridSortMenuContext` provides a context API for sharing sort-related functionality across components. It enables centralized management of sorting operations, menu states, and column interactions.

## Features
- ðŸ”¹ Shared sort handlers across components
- ðŸ”¹ Centralized menu state management
- ðŸ”¹ Type-safe interface
- ðŸ”¹ React Context API integration
- ðŸ”¹ Reusable hook for easy consumption

## Context Interface
```typescript
export interface GridSortMenuContextType {
  onSortAsc?: (field: string, type?: string | null) => void;
  onSortDesc?: (field: string, type?: string | null) => void;
  anchorEl?: HTMLElement | null;
  menuField?: string | null;
  handleMenuOpen?: (event: React.MouseEvent<HTMLButtonElement>, field: string) => void;
  handleMenuClose?: () => void;
  onClearSort?: (field: string) => void;
}
```

## Usage Hook
```typescript
export const useGridSortMenu = () => useContext(GridSortMenuContext);
```

# Reusable Sort Utilities

## Overview
The `reusableSortUtils.ts` file provides utility functions for sorting data in various ways and managing sort models.

## Features
- ðŸ”¹ Multi-column sort support
- ðŸ”¹ Various sort types (alphanumeric, numeric, date, font color, fill color)
- ðŸ”¹ Sort model management
- ðŸ”¹ Pre-processing for color-based sorting
- ðŸ”¹ Custom comparator functions
- ðŸ”¹ Type-safe interfaces

## Interfaces

```typescript
export interface SortModel {
  field: string;
  sort: 'asc' | 'desc';
  type: SortType;
  priority: number;
}

export interface SortLevel {
  sortBy: string;
  sortOn: string;
  order: 'asc' | 'desc';
}
```

## Functions

### Sort Model Management
- `getSortAscModel(sortModel, field, type)`: Creates a sort model for ascending sort
- `getSortDescModel(sortModel, field, type)`: Creates a sort model for descending sort
- `getClearSortModel(sortModel, field)`: Removes a field from the sort model

### Data Processing
- `preprocessRows(rows, formattingConfig)`: Preprocesses rows to add color sorting fields
- `getComparator(type, direction, field)`: Gets a comparator function for a specific sort type
- `applyMultiColumnSort(rows, sortLevels)`: Applies multi-column sorting to data rows


